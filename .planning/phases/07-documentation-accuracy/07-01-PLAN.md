---
phase: 07-documentation-accuracy
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - enterprise-work-assistant/docs/deployment-guide.md
autonomous: true
requirements:
  - DOC-01
  - DOC-04
  - DOC-07

must_haves:
  truths:
    - "Deployment guide describes JSON output configuration using function-first language with Prompt builder context, not stale Settings paths"
    - "Deployment guide prerequisites list Bun >= 1.x and Node.js >= 20 with tested-with versions and platform-specific install commands"
    - "Deployment guide research tool registration section has a Last verified date"
    - "Prerequisites are grouped into dev tools, Power Platform tools, and environment requirements"
  artifacts:
    - path: "enterprise-work-assistant/docs/deployment-guide.md"
      provides: "Corrected deployment guide with accurate UI paths, prerequisites, and research tool registration"
      contains: "Last verified"
  key_links:
    - from: "enterprise-work-assistant/docs/deployment-guide.md"
      to: "enterprise-work-assistant/docs/agent-flows.md"
      via: "Cross-reference link for agent flows"
      pattern: "agent-flows\\.md"
---

<objective>
Fix deployment-guide.md: correct the Copilot Studio JSON output UI path (DOC-01), update prerequisites to require Node.js >= 20 and Bun >= 1.x with install commands (DOC-07), verify research tool registration section and add freshness dates (DOC-04).

Purpose: A developer following the deployment guide must not encounter incorrect UI paths or outdated version requirements.
Output: Updated `enterprise-work-assistant/docs/deployment-guide.md`
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-documentation-accuracy/07-RESEARCH.md
@enterprise-work-assistant/docs/deployment-guide.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix JSON output UI path and update prerequisites</name>
  <files>enterprise-work-assistant/docs/deployment-guide.md</files>
  <action>
Make three changes to deployment-guide.md:

**Change 1 — Section 2.2 "Configure JSON Output Mode" (DOC-01):**

Replace the current incorrect section 2.2 content (lines ~90-113) with function-first instructions. The current text references "Settings > Generative AI > Structured outputs" which does not exist.

Replace with instructions based on the Prompt builder approach verified in research:
1. Use function-first language: "Configure the agent's prompt to output JSON format"
2. Describe the general process: open the prompt in the Prompt builder, select JSON as the output format in the top-right dropdown next to "Output:", customize with the JSON schema example
3. Keep the existing JSON example block (it is correct)
4. Add a verification step: "Test the agent and confirm the response is valid JSON matching the schema"
5. Add "Last verified: Feb 2026" date
6. Add a note: "The exact UI location may change with Copilot Studio updates. Look for output format or JSON settings in the prompt configuration area."

Per user decision: use function-first description with path hints since this UI path is known to be unstable. Do NOT reference "Settings > Generative AI > Structured outputs" or "Settings > AI capabilities > JSON output" — those paths do not exist.

**Change 2 — Prerequisites section (DOC-07):**

Replace the flat prerequisite list (lines ~7-13) with a grouped, versioned format per user decisions:

Group into three categories:
1. **Development Tools**
   - **Bun** >= 1.x (Tested with Bun 1.2.x) — include install commands for macOS (`brew install oven-sh/bun/bun`) and Windows (`powershell -c "irm bun.sh/install.ps1|iex"`)
   - **Node.js** >= 20 (Tested with Node.js 20.x) — include install commands for macOS (`brew install node@20`) and Windows (`winget install OpenJS.NodeJS.LTS`)
   - **.NET SDK** (required for PAC CLI) — include install commands for macOS (`brew install --cask dotnet-sdk`) and Windows (`winget install Microsoft.DotNet.SDK.8`)

2. **Power Platform Tools**
   - **PAC CLI** — keep existing install command (`dotnet tool install --global Microsoft.PowerApps.CLI.Tool`)
   - **Azure CLI** — keep existing description, add install: macOS (`brew install azure-cli`), Windows (`winget install Microsoft.AzureCLI`)
   - **PowerShell 7+** — keep existing

3. **Environment Requirements**
   - Power Platform environment with Copilot Studio capacity allocated
   - Admin access to the target tenant

Keep the terminology note after prerequisites.

**Change 3 — Section 2.4 research tool registration (DOC-04):**

Add a "Last verified: Feb 2026" note at the end of Section 2.4. The existing content is reasonably complete per research findings. No other changes needed to this section.

Also add "Last verified: Feb 2026" to Section 2.2 after the JSON output configuration.

**Change 4 — Add cross-reference to agent-flows.md (wiring):**

At the end of the Section 2.2 JSON output configuration (after the "Last verified" date), add a "Related documentation" note:

> **Related**: For Power Automate flow configuration that consumes this JSON output, see [agent-flows.md](agent-flows.md).

This ensures a developer reading the JSON output section knows where to find the downstream flow integration instructions.
  </action>
  <verify>
Read the modified deployment-guide.md and confirm:
1. Section 2.2 does NOT contain "Settings > Generative AI > Structured outputs" or "Settings > AI capabilities > JSON output"
2. Section 2.2 contains function-first language about configuring prompt JSON output
3. Section 2.2 contains "Last verified: Feb 2026"
4. Prerequisites section contains "Node.js" with ">= 20" or "20" (not "18+")
5. Prerequisites section contains "Bun" with ">= 1" and "Tested with"
6. Prerequisites section contains ".NET SDK"
7. Prerequisites are grouped into "Development Tools", "Power Platform Tools", and "Environment Requirements"
8. Prerequisites include both macOS and Windows install commands
9. Section 2.4 contains "Last verified: Feb 2026"
10. Section 2.2 contains a cross-reference link to "agent-flows.md"
  </verify>
  <done>
Deployment guide has accurate JSON output configuration instructions using function-first language with a cross-reference to agent-flows.md, prerequisites specify Node.js >= 20 and Bun >= 1.x with platform-specific install commands grouped by category, and research tool section has a freshness date.
  </done>
</task>

</tasks>

<verification>
- Read deployment-guide.md and grep for any remaining "18+" references (should find none)
- Grep for "Settings.*Generative AI" or "Settings.*AI capabilities" (should find none)
- Grep for "Last verified" (should find at least 2 occurrences — Section 2.2 and Section 2.4)
- Verify prerequisites have both `brew` and `winget`/`powershell` commands
</verification>

<success_criteria>
- DOC-01: JSON output section uses function-first language, no stale UI paths
- DOC-04: Research tool section has freshness date
- DOC-07: Prerequisites specify Node.js >= 20, Bun >= 1.x, grouped with install commands
</success_criteria>

<output>
After completion, create `.planning/phases/07-documentation-accuracy/07-01-SUMMARY.md`
</output>
